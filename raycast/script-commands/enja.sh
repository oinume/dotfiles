#!/bin/bash

# Required parameters:
# @raycast.schemaVersion 1
# @raycast.title translate
# @raycast.mode fullOutput

# Optional parameters:
# @raycast.icon ğŸ¤–
# @raycast.packageName Script Commands

# Documentation:
# @raycast.description JA <-> EN translation

SCRIPT='exit 0 if STDIN.read =~ /[\p{Hiragana}\p{Katakana}\p{Han}]/; exit 1'
INPUT=`pbpaste`

llm prompt -m gpt-5-mini -s "ã‚ãªãŸã¯å„ªç§€ãªç¿»è¨³å®¶ã§ã™ã€‚æ¬¡ã®æ–‡ç« ã‚’ã€æ—¥æœ¬èªã®å ´åˆã¯è‹±èªã«ã€è‹±èªã®å ´åˆã¯æ—¥æœ¬èªã«ç¿»è¨³ã—ã¦ãã ã•ã„ã€‚ãªãŠã€æ–‡è„ˆã‚’å®Œå…¨ã«ç¶­æŒã—ãŸã¾ã¾ã€ç¿»è¨³çµæœã®ãƒ†ã‚­ã‚¹ãƒˆã®ã¿ã‚’å‡ºåŠ›ã—ã€ãã‚Œä»¥å¤–ã®å‰ç½®ãã‚„èª¬æ˜ã€æ³¨é‡ˆãªã©ã¯ä¸€åˆ‡å«ã‚ãªã„ã§ãã ã•ã„ã€‚" "$INPUT"

# if pbpaste | ruby -e $SCRIPT; then
#   # JA -> EN
#   llm prompt -m gpt-5-mini -s "ã‚ãªãŸã¯å„ªç§€ãªç¿»è¨³å®¶ã§ã™ã€‚ä»¥ä¸‹ã®æ—¥æœ¬èªã‚’ã€æ–‡è„ˆã‚’å®Œå…¨ã«ç¶­æŒã—ãŸã¾ã¾ã€è‡ªç„¶ã§æ­£ç¢ºãªè‹±èªã«ç¿»è¨³ã—ã¦ãã ã•ã„ã€‚ç¿»è¨³çµæœã®è‹±èªãƒ†ã‚­ã‚¹ãƒˆã®ã¿ã‚’å‡ºåŠ›ã—ã€ãã‚Œä»¥å¤–ã®å‰ç½®ãã‚„èª¬æ˜ã€æ³¨é‡ˆãªã©ã¯ä¸€åˆ‡å«ã‚ãªã„ã§ãã ã•ã„ã€‚" "$INPUT"
# else
#   # EN -> JA
#   llm prompt -m gpt-5-mini -s "ã‚ãªãŸã¯å„ªç§€ãªç¿»è¨³å®¶ã§ã™ã€‚ä»¥ä¸‹ã®è‹±èªã®æ–‡ç« ã‚’ã€æ–‡è„ˆã‚’å®Œå…¨ã«ç†è§£ã—ã€æ—¥æœ¬ã®èª­è€…ã«ã¨ã£ã¦æœ€ã‚‚è‡ªç„¶ã§é•å’Œæ„Ÿã®ãªã„æ—¥æœ¬èªã«ç¿»è¨³ã—ã¦ãã ã•ã„ã€‚æ–‡ä½“ã¯ã€Œã§ã™ãƒ»ã¾ã™ã€èª¿ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚ç¿»è¨³çµæœã®æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆã®ã¿ã‚’å‡ºåŠ›ã—ã€ãã‚Œä»¥å¤–ã®å‰ç½®ãã‚„èª¬æ˜ã€æ³¨é‡ˆãªã©ã¯ä¸€åˆ‡å«ã‚ãªã„ã§ãã ã•ã„ã€‚" "$INPUT"
# fi
